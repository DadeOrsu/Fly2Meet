<!DOCTYPE html>
<html lang="it">
<head>
    <title>Offerte di volo</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='results.css') }}">
</head>
<body>
    {% if error %}
        <p>{{ error }}</p>
    {% else %}
    <h1>Flight offers</h1>
    <h2>Offers for the first city</h2>
    <table class="flight-table">
        {% for flight in first_city_offers %}
        <thead class="dark-header">
            <tr>
                <th id="origin-header-1">Origine</th>
                <th id="destination-header-1">Destinazione</th>
                <th id="departure-date-header-1">Data di partenza</th>
                <th id="duration-header-1">Durata</th>
                <th id="price-header-1">Prezzo</th>
            </tr>
        </thead>
        <tbody>
            {% for itinerary in flight.itineraries %}
            {% for segment in itinerary.segments %}
            <tr>
                <td>{{ segment.departure.iataCode }}</td>
                <td>{{ segment.arrival.iataCode }}</td>
                <td>{{ segment.departure.at | format_datetime }}</td>
                <td>{{ itinerary.duration | format_duration }}</td>
                <td>{{ flight.price.total | format_price }}</td>
            </tr>
            {% endfor %}
            {% endfor %}
        </tbody>
        {% endfor %}
    </table>

    <h2>Offerte per la seconda citt√†</h2>
    <table class="flight-table">
        {% for flight in second_city_offers %}
        <thead class="dark-header">
            <tr>
                <th id="origin-header-2">Origine</th>
                <th id="destination-header-2">Destinazione</th>
                <th id="departure-date-header-2">Data di partenza</th>
                <th id="duration-header-2">Durata</th>
                <th id="price-header-2">Prezzo</th>
            </tr>
        </thead>
        <tbody>
            {% for itinerary in flight.itineraries %}
            {% for segment in itinerary.segments %}
            <tr>
                <td>{{ segment.departure.iataCode }}</td>
                <td>{{ segment.arrival.iataCode }}</td>
                <td>{{ segment.departure.at | format_datetime }}</td>
                <td>{{ itinerary.duration | format_duration }}</td>
                <td>{{ flight.price.total | format_price }}</td>
            </tr>
            {% endfor %}
            {% endfor %}
        </tbody>
        {% endfor %}
    </table>
    {% endif %}
</body>
</html>
