<!DOCTYPE html>
<html lang="it">
<head>
    <title>Offerte di volo</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='results.css') }}">
</head>
<body>
    <h1>Flight offers</h1>
    <h2>Offers for the first city</h2>
    <table class="flight-table">
        {% for flight in first_city_offers %}
        <thead class="dark-header">
            <tr>
                <th id="origin-header-1">Origine</th>
                <th id="destination-header-1">Destinazione</th>
                <th id="departure-date-header-1">Data di partenza</th>
                <th id="duration-header-1">Durata</th>
                <th id="price-header-1">Prezzo</th>
            </tr>
        </thead>
        <tbody>

        <tr>
            <td id="origin_1a">{{ flight.itineraries[0].segments[0].departure.iataCode }}</td>
            <td id="destination_1a">{{ flight.itineraries[0].segments[0].arrival.iataCode }}</td>
            <td id="departure-date_1a">{{ flight.itineraries[0].segments[0].departure.at | format_datetime }}</td>
            <td id="duration_1a">{{ flight.itineraries[0].duration | format_duration }}</td>
            <td id="price_1a">{{ flight.price.total | format_price }}</td>
        </tr>

        {% if flight.itineraries | length > 1 %}
        <tr class="{{ color_class }}">
            <td id="origin_1b">{{ flight.itineraries[1].segments[0].departure.iataCode }}</td>
            <td id="destination_1b">{{ flight.itineraries[1].segments[0].arrival.iataCode }}</td>
            <td id="departure-date_1b">{{ flight.itineraries[1].segments[0].departure.at | format_datetime }}</td>
            <td id="duration_1b">{{ flight.itineraries[1].duration | format_duration }}</td>
            <td id="price_1b">{{ flight.price.total | format_price }}</td>
        </tr>
        {% endif %}

    </tbody>
        {% endfor %}
    </table>

    <h2>Offers for the second city</h2>
    <table class="flight-table">
        {% for flight in second_city_offers %}
        <thead class = "dark-header">
            <tr>
                <th id="origin-header-2">Origine</th>
                <th id="destination-header-2">Destinazione</th>
                <th id="departure-date-header-2">Data di partenza</th>
                <th id="duration-header-2">Durata</th>
                <th id="price-header-2">Prezzo</th>
            </tr>
        </thead>
        <tbody>
        <tr class="{{ color_class }}">
            <!-- Parte superiore per l'andata -->
            <td id="origin_2a">{{ flight.itineraries[0].segments[0].departure.iataCode }}</td>
            <td id="destination_2a">{{ flight.itineraries[0].segments[0].arrival.iataCode }}</td>
            <td id="departure-date_2a">{{ flight.itineraries[0].segments[0].departure.at | format_datetime }}</td>
            <td id="duration_2a">{{ flight.itineraries[0].duration | format_duration }}</td>
            <td id="price_2a">{{ flight.price.total | format_price }}</td>
        </tr>

        {% if flight.itineraries | length > 1 %}
        <tr class="{{ color_class }}">
            <!-- Parte inferiore per il ritorno -->
            <td id="origin_2b">{{ flight.itineraries[1].segments[0].departure.iataCode }}</td>
            <td id="destination_2b">{{ flight.itineraries[1].segments[0].arrival.iataCode }}</td>
            <td id="departure-date_2b">{{ flight.itineraries[1].segments[0].departure.at | format_datetime }}</td>
            <td id="duration_2b">{{ flight.itineraries[1].duration | format_duration }}</td>
            <td id="price_2b">{{ flight.price.total | format_price }}</td>
        </tr>
        {% endif %}
        {% endfor %}
    </tbody>
    </table>
</body>
</html>
